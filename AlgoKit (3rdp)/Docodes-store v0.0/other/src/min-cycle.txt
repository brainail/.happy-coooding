Алгоритм со сложностью O(n^3).
1. Устанавливаем длину кратчайшего цикла равной бесконечности (res = infinity)
2. Цикл: для каждой вершины 
 2.1 Запускаем алгоритм Дейкстры из текущей вершины
 2.2 Получаем дерево кратчайших путей
 2.3 Для каждого ребра x-y: если ребро не входит в дерево
 3.1 res = min(res, расстояние_до_x + расстояние_до_y + длина_ребра_x_y)
3. В res хранится длина кратчайшего цикла